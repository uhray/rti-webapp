<script>
  export let attachments = undefined;
  export let isDisplay = true;
</script>

<style src="./MessageAttachments.scss">

</style>

<div class="MessageAttachments">
  {#each attachments as attachment}
    {#if attachment.format === 'image'}
      <div class="MessageAttachments-imageContainer">
        <div class="MessageAttachments-imageHolder">
          <img
            class="MessageAttachments-image"
            src={attachment.fileUrl}
            alt={attachment.name} />
        </div>
        {#if !isDisplay}
          <svg
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="MessageAttachments-imageIcon clickable"
            onClick={() => {
              handleRemoveAttachment(attachment);
            }}>
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M11 1.25C5.62391 1.25 1.25 5.62391 1.25 11C1.25 16.3761 5.62391
              20.75 11 20.75C16.3761 20.75 20.75 16.3761 20.75 11C20.75 5.62391
              16.3761 1.25 11 1.25ZM14.5307 13.4704C14.7283 13.6581 14.8085
              13.9382 14.7402 14.2021C14.6719 14.4659 14.4659 14.6719 14.2021
              14.7402C13.9382 14.8085 13.6581 14.7283 13.4704 14.5307L11.0006
              12.0613L8.53071 14.5307C8.23584 14.8109 7.7714 14.8049 7.4838
              14.5173C7.1962 14.2297 7.19025 13.7653 7.4704 13.4704L9.93977
              11.0006L7.4704 8.53071C7.19025 8.23584 7.1962 7.7714 7.4838
              7.4838C7.7714 7.1962 8.23584 7.19025 8.53071 7.4704L11.0006
              9.93977L13.4704 7.4704C13.7653 7.19025 14.2297 7.1962 14.5173
              7.4838C14.8049 7.7714 14.8109 8.23584 14.5307 8.53071L12.0613
              11.0006L14.5307 13.4704Z"
              fill="#595F76" />
            <path
              d="M14.5307 13.4704L14.177 13.824L14.1863 13.8329L14.5307
              13.4704ZM13.4704 14.5307L13.833 14.1862L13.8239 14.1771L13.4704
              14.5307ZM11.0006 12.0613L11.3541 11.7077L11.0006 11.3543L10.647
              11.7077L11.0006 12.0613ZM8.53071 14.5307L8.87521 14.8933L8.88423
              14.8843L8.53071 14.5307ZM7.4704 13.4704L7.11669 13.1168L7.10791
              13.126L7.4704 13.4704ZM9.93977 11.0006L10.2934 11.3541L10.6468
              11.0006L10.2934 10.647L9.93977 11.0006ZM7.4704 8.53071L7.10779
              8.87521L7.11681 8.88423L7.4704 8.53071ZM8.53071 7.4704L8.88434
              7.11669L8.87509 7.10791L8.53071 7.4704ZM11.0006 9.93977L10.647
              10.2934L11.0006 10.6468L11.3541 10.2934L11.0006 9.93977ZM13.4704
              7.4704L13.1259 7.10779L13.1169 7.11681L13.4704 7.4704ZM14.5307
              8.53071L14.8844 8.88434L14.8932 8.87509L14.5307 8.53071ZM12.0613
              11.0006L11.7077 10.647L11.3543 11.0006L11.7077 11.3541L12.0613
              11.0006ZM11 0.75C5.34776 0.75 0.75 5.34776 0.75 11H1.75C1.75
              5.90005 5.90005 1.75 11 1.75V0.75ZM0.75 11C0.75 16.6522 5.34776
              21.25 11 21.25V20.25C5.90005 20.25 1.75 16.1 1.75 11H0.75ZM11
              21.25C16.6522 21.25 21.25 16.6522 21.25 11H20.25C20.25 16.1 16.1
              20.25 11 20.25V21.25ZM21.25 11C21.25 5.34776 16.6522 0.75 11
              0.75V1.75C16.1 1.75 20.25 5.90005 20.25 11H21.25ZM14.1863
              13.8329C14.2522 13.8955 14.2789 13.9888 14.2562 14.0768L15.2243
              14.3273C15.3381 13.8876 15.2044 13.4208 14.8751 13.1079L14.1863
              13.8329ZM14.2562 14.0768C14.2334 14.1647 14.1647 14.2334 14.0768
              14.2562L14.3273 15.2243C14.7671 15.1104 15.1104 14.7671 15.2243
              14.3273L14.2562 14.0768ZM14.0768 14.2562C13.9888 14.2789 13.8955
              14.2522 13.8329 14.1863L13.1079 14.8751C13.4208 15.2044 13.8876
              15.3381 14.3273 15.2243L14.0768 14.2562ZM13.8239 14.1771L11.3541
              11.7077L10.647 12.4149L13.1169 14.8843L13.8239 14.1771ZM10.647
              11.7077L8.17719 14.1771L8.88423 14.8843L11.3541 12.4149L10.647
              11.7077ZM8.18632 14.1682C8.08803 14.2616 7.93322 14.2596 7.83735
              14.1638L7.13025 14.8709C7.60959 15.3502 8.38364 15.3601 8.87509
              14.8932L8.18632 14.1682ZM7.83735 14.1638C7.74149 14.0679 7.7395
              13.9131 7.83289 13.8148L7.10791 13.126C6.641 13.6175 6.65091
              14.3915 7.13025 14.8709L7.83735 14.1638ZM7.82398 13.8239L10.2934
              11.3541L9.58618 10.647L7.11681 13.1169L7.82398 13.8239ZM10.2934
              10.647L7.82398 8.17719L7.11681 8.88423L9.58618 11.3541L10.2934
              10.647ZM7.83289 8.18632C7.7395 8.08803 7.74149 7.93322 7.83735
              7.83735L7.13025 7.13025C6.65091 7.60959 6.641 8.38364 7.10791
              8.87509L7.83289 8.18632ZM7.83735 7.83735C7.93322 7.74149 8.08803
              7.7395 8.18632 7.83289L8.87509 7.10791C8.38364 6.641 7.60959
              6.65091 7.13025 7.13025L7.83735 7.83735ZM8.17719 7.82398L10.647
              10.2934L11.3541 9.58618L8.88423 7.11681L8.17719 7.82398ZM11.3541
              10.2934L13.8239 7.82398L13.1169 7.11681L10.647 9.58618L11.3541
              10.2934ZM13.8148 7.83289C13.9131 7.7395 14.0679 7.74149 14.1638
              7.83735L14.8709 7.13025C14.3915 6.65091 13.6175 6.641 13.126
              7.10791L13.8148 7.83289ZM14.1638 7.83735C14.2596 7.93322 14.2616
              8.08803 14.1682 8.18632L14.8932 8.87509C15.3601 8.38364 15.3502
              7.60959 14.8709 7.13025L14.1638 7.83735ZM14.1771 8.17719L11.7077
              10.647L12.4149 11.3541L14.8843 8.88423L14.1771 8.17719ZM11.7077
              11.3541L14.1771 13.8239L14.8843 13.1169L12.4149 10.647L11.7077
              11.3541Z"
              fill="white" />
          </svg>
        {/if}

      </div>
    {:else}
      <div class="MessageAttachments-fileBox">
        <div class="MessageAttachments-fileContainer">
          <div class="MessageAttachments-fileHolder">
            <svg
              width="36"
              height="36"
              viewBox="0 0 36 36"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="MessageAttachments-fileIcon">
              <path
                d="M0 18C0 8.05888 8.05888 0 18 0C27.9411 0 36 8.05888 36 18C36
                27.9411 27.9411 36 18 36C8.05888 36 0 27.9411 0 18Z"
                fill="#595F76"
                fill-opacity="0.1" />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M18.9374 11.8907C18.9291 11.3801 18.5126 10.9688 18
                10.9688C17.4822 10.9688 17.0625 11.3885 17.0625
                11.9062V21.8304L13.0379 17.8058L13.0265 17.7946C12.6596 17.4398
                12.0744 17.4435 11.7121 17.8058C11.346 18.172 11.346 18.7655
                11.7121 19.1317L17.3371 24.7567L17.3485 24.7679C17.7154 25.1227
                18.3006 25.119 18.6629 24.7567L24.2879 19.1317L24.2991
                19.1203C24.654 18.7533 24.6503 18.1682 24.2879 17.8058L24.2765
                17.7946C23.9096 17.4398 23.3244 17.4435 22.9621 17.8058L18.9375
                21.8304V11.9062L18.9374 11.8907Z"
                fill="#243E93" />
            </svg>

            <div>
              <p class="MessageAttachments-fileName">{attachment.name}</p>
              <p class="MessageAttachments-fileSize">{attachment.size}</p>
            </div>
          </div>
        </div>
        {#if !isDisplay}
          <svg
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="MessageAttachments-imageIcon clickable"
            onClick={() => {
              handleRemoveAttachment(attachment);
            }}>
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M11 1.25C5.62391 1.25 1.25 5.62391 1.25 11C1.25 16.3761 5.62391
              20.75 11 20.75C16.3761 20.75 20.75 16.3761 20.75 11C20.75 5.62391
              16.3761 1.25 11 1.25ZM14.5307 13.4704C14.7283 13.6581 14.8085
              13.9382 14.7402 14.2021C14.6719 14.4659 14.4659 14.6719 14.2021
              14.7402C13.9382 14.8085 13.6581 14.7283 13.4704 14.5307L11.0006
              12.0613L8.53071 14.5307C8.23584 14.8109 7.7714 14.8049 7.4838
              14.5173C7.1962 14.2297 7.19025 13.7653 7.4704 13.4704L9.93977
              11.0006L7.4704 8.53071C7.19025 8.23584 7.1962 7.7714 7.4838
              7.4838C7.7714 7.1962 8.23584 7.19025 8.53071 7.4704L11.0006
              9.93977L13.4704 7.4704C13.7653 7.19025 14.2297 7.1962 14.5173
              7.4838C14.8049 7.7714 14.8109 8.23584 14.5307 8.53071L12.0613
              11.0006L14.5307 13.4704Z"
              fill="#595F76" />
            <path
              d="M14.5307 13.4704L14.177 13.824L14.1863 13.8329L14.5307
              13.4704ZM13.4704 14.5307L13.833 14.1862L13.8239 14.1771L13.4704
              14.5307ZM11.0006 12.0613L11.3541 11.7077L11.0006 11.3543L10.647
              11.7077L11.0006 12.0613ZM8.53071 14.5307L8.87521 14.8933L8.88423
              14.8843L8.53071 14.5307ZM7.4704 13.4704L7.11669 13.1168L7.10791
              13.126L7.4704 13.4704ZM9.93977 11.0006L10.2934 11.3541L10.6468
              11.0006L10.2934 10.647L9.93977 11.0006ZM7.4704 8.53071L7.10779
              8.87521L7.11681 8.88423L7.4704 8.53071ZM8.53071 7.4704L8.88434
              7.11669L8.87509 7.10791L8.53071 7.4704ZM11.0006 9.93977L10.647
              10.2934L11.0006 10.6468L11.3541 10.2934L11.0006 9.93977ZM13.4704
              7.4704L13.1259 7.10779L13.1169 7.11681L13.4704 7.4704ZM14.5307
              8.53071L14.8844 8.88434L14.8932 8.87509L14.5307 8.53071ZM12.0613
              11.0006L11.7077 10.647L11.3543 11.0006L11.7077 11.3541L12.0613
              11.0006ZM11 0.75C5.34776 0.75 0.75 5.34776 0.75 11H1.75C1.75
              5.90005 5.90005 1.75 11 1.75V0.75ZM0.75 11C0.75 16.6522 5.34776
              21.25 11 21.25V20.25C5.90005 20.25 1.75 16.1 1.75 11H0.75ZM11
              21.25C16.6522 21.25 21.25 16.6522 21.25 11H20.25C20.25 16.1 16.1
              20.25 11 20.25V21.25ZM21.25 11C21.25 5.34776 16.6522 0.75 11
              0.75V1.75C16.1 1.75 20.25 5.90005 20.25 11H21.25ZM14.1863
              13.8329C14.2522 13.8955 14.2789 13.9888 14.2562 14.0768L15.2243
              14.3273C15.3381 13.8876 15.2044 13.4208 14.8751 13.1079L14.1863
              13.8329ZM14.2562 14.0768C14.2334 14.1647 14.1647 14.2334 14.0768
              14.2562L14.3273 15.2243C14.7671 15.1104 15.1104 14.7671 15.2243
              14.3273L14.2562 14.0768ZM14.0768 14.2562C13.9888 14.2789 13.8955
              14.2522 13.8329 14.1863L13.1079 14.8751C13.4208 15.2044 13.8876
              15.3381 14.3273 15.2243L14.0768 14.2562ZM13.8239 14.1771L11.3541
              11.7077L10.647 12.4149L13.1169 14.8843L13.8239 14.1771ZM10.647
              11.7077L8.17719 14.1771L8.88423 14.8843L11.3541 12.4149L10.647
              11.7077ZM8.18632 14.1682C8.08803 14.2616 7.93322 14.2596 7.83735
              14.1638L7.13025 14.8709C7.60959 15.3502 8.38364 15.3601 8.87509
              14.8932L8.18632 14.1682ZM7.83735 14.1638C7.74149 14.0679 7.7395
              13.9131 7.83289 13.8148L7.10791 13.126C6.641 13.6175 6.65091
              14.3915 7.13025 14.8709L7.83735 14.1638ZM7.82398 13.8239L10.2934
              11.3541L9.58618 10.647L7.11681 13.1169L7.82398 13.8239ZM10.2934
              10.647L7.82398 8.17719L7.11681 8.88423L9.58618 11.3541L10.2934
              10.647ZM7.83289 8.18632C7.7395 8.08803 7.74149 7.93322 7.83735
              7.83735L7.13025 7.13025C6.65091 7.60959 6.641 8.38364 7.10791
              8.87509L7.83289 8.18632ZM7.83735 7.83735C7.93322 7.74149 8.08803
              7.7395 8.18632 7.83289L8.87509 7.10791C8.38364 6.641 7.60959
              6.65091 7.13025 7.13025L7.83735 7.83735ZM8.17719 7.82398L10.647
              10.2934L11.3541 9.58618L8.88423 7.11681L8.17719 7.82398ZM11.3541
              10.2934L13.8239 7.82398L13.1169 7.11681L10.647 9.58618L11.3541
              10.2934ZM13.8148 7.83289C13.9131 7.7395 14.0679 7.74149 14.1638
              7.83735L14.8709 7.13025C14.3915 6.65091 13.6175 6.641 13.126
              7.10791L13.8148 7.83289ZM14.1638 7.83735C14.2596 7.93322 14.2616
              8.08803 14.1682 8.18632L14.8932 8.87509C15.3601 8.38364 15.3502
              7.60959 14.8709 7.13025L14.1638 7.83735ZM14.1771 8.17719L11.7077
              10.647L12.4149 11.3541L14.8843 8.88423L14.1771 8.17719ZM11.7077
              11.3541L14.1771 13.8239L14.8843 13.1169L12.4149 10.647L11.7077
              11.3541Z"
              fill="white" />
          </svg>
        {/if}
      </div>
    {/if}
  {/each}
</div>
